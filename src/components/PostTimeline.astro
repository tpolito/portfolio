---
import { css } from 'styled-system/css';
import clsx from 'clsx';

const categoryButtonStyles = css({
	backgroundColor: 'transparent',
	border: 'none',
	// color: 'purple',
	cursor: 'pointer',
	fontFamily: 'robotoSlab',
	fontSize: '1rem',
	m: '0 0.5rem',
	textDecoration: 'capitalize',
	'&:hover': {
		color: 'purpleTint'
	}
});

type Props = {
	categories: string[];
	currentCategory?: string;
};

const { categories } = Astro.props;
const { pathname } = Astro.url;
---

<div class={css({ p: '10px' })}>
	<h2 class={css({ color: 'purple', fontFamily: 'robotoSlab', fontSize: '1.5rem', mb: '1.2rem' })}>
		Posts - <a
			class={clsx(
				categoryButtonStyles,
				css({
					color: pathname === '/' && 'purpleTint',
					'&:hover': {
						textDecoration: 'underline'
					}
				})
			)}
			href="/">all</a
		>{
			categories.map((category) => (
				<a
					class={clsx(
						categoryButtonStyles,
						css({
							color: pathname === `/category/${category}/` && 'purpleTint',
							'&:hover': {
								textDecoration: 'underline'
							}
						})
					)}
					href={`/category/${category}/`}
				>
					{category}
				</a>
			))
		}
	</h2>
	<div class={css({ display: 'flex', flexDirection: 'column' })}>
		<slot />
	</div>
</div>
